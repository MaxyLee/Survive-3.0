# <center>计算机网络原理</center>

[TOC]

## Ch2 计算机网络的体系结构 

### 计算机网络的构成 

1. `资源子网`：

   - 基本组成：
     - 服务器
     - 客户计算机，移动终端 

2. `通信子网`：

   - 基本组成：
     - 通信线路(或称通道)
     - 网络互连设备(路由器、交换机、HUB等) 

   - 基本结构

     1. `点到点通道`

        基本特点：

        - 一条线路连接二台网络互连设备 
        - 一般情况下，二台计算机的连接要经过多台网络互连设备 

        `典型拓扑结构`：star, ring(loop), tree, complete, intersecting rings, irregular 

        `关键技术`：路由选择（Routing）

     2. `广播通道`

        基本特点：

        - 多台计算机共享一条通信线路
        - 任一台计算机发出的信息可以直接被其它计算机接收 

        `典型拓扑结构`：bus,ring 

        `关键技术`：通道分配 

        - 静态分配:分时间片 

          特点:控制简单，通道利用率低

        - 动态分配:各站点动态使用通道 

          特点:控制复杂，通道利用率高

          通道分配方法:

          - 集中式:只有一个仲裁机构
          - 分布式:各站点均有仲裁机构 

3. `网络分类 `：

   `从地域范围角度`

   - 局域网络(Local Area Net works) 
     - 主要采用广播通道技术
   - 城域网络(Metropolitan Area Networks)
   - 广域网络(Wide Area Networks) 
     - 主要采用点到点通道技术 

   `从采用技术角度 `

   - 无线网络(Wireless Networks)
     - 优点:方便、灵活
     - 缺点:速率低，误码率高，易受干扰 

   - 卫星网络，ATM网络 

   - `移动通信系统 `

### 计算机网络的体系结构 

1. `计算机网络的体系结构 `：

   - 对计算机网络及其部件所完成功能的比较精确的定义。即从功能的角度描述计算机网络的结构。 

   - 计算机网络各种功能组成及其相互关系 
   - 层次和协议的集合。 
   - 注意：计算机网络体系结构仅仅定义了网络及其部件通过协议应完成的功能;不定义协议的实现细节和各层 协议之间的接口关系。 

2. `协议的定义和组成` ：

   - 位于不同计算机上进行对话的第N层通信各方可分别看成是一种进程，称为`对等(同等)进程`。

   - `协议(Protocol)`: 计算机网络同等层次中，通信双方 进行信息交换时必须遵守的规则。 

   -  `协议的组成`：

     - `语法(syntax)`:以二进制形式表示的命令和响应的结构 

     - `语义(semantics)`:由发出的命令请求，完成的动作和回送的 响应组成的集合 

     - `定时关系(timing)`:有关事件顺序的说明 

   - 协议的`分层原则` (layering principle) 

     - 目的计算机上的第N层软件必须准确接受发送计算机上软件第N层发送的信息。 
     - 协议分层要保证整个计算机网络系统功能完备、高效。 

   - 每一相邻层之间有一个`接口(Interface)`，它定义了下层向上层提供的原语操作和服务。 

   - 对于第N层协议来说，它有如下特性 

     - 不知道上、下层的内部结构; 
     - 独立完成某种功能;
     - 为上层提供服务;
     - 使用下层提供的服务。 

   - `接口`:定义了下层向上层提供的原语操作和服务。 

   - `协议`:计算机网络同等层次中，通信双方进行信息交换时必须遵守的规则。 

   - `服务`:层间交换信息时必须遵守的规则。 

3. `SAP`：

   - `服务访问点SAP(Service Access Point)` 
     - 任何层间服务是在接口的SAP上进行的
     - 每个SAP有唯一的识别地址
     - 每个层间接口可以有多个SAP。 

   - `接口数据单元IDU(Interface Data Unit)` 
     - IDU是通过SAP进行传送的层间信息单元 
     - IDU由上层的服务数据单元SDU(Service Data Unit)和接口 控制信息ICI(Interface Control Information)组成 

   - `协议数据单元PDU(Protocol Data Unit) `
     - 第N层实体通过网络传送给它的对等实体的信息单元 
     - PDU由上层的服务数据单元SDU或其分段和协议控制信息PCI (Protocol Control Information)组成 
     - 分段和重组 

4. `服务分类和服务原语(primitives) `

   - 基于连接的服务和无连接服务 

     - `基于连接的服务 `
       - 当使用服务传送数据时，首先建立连接，然后使 用该连接传送数据。使用完后，关闭连接。 
       - 特点:顺序性好。 

     - `无连接服务 `

       - 直接使用服务传送数据，每个包独立进行传送。 

       - 特点:顺序性差。 

     - `注意`:连接并不意味可靠，可靠要通过确认、重传等机制来保证

   - 服务原语 

     - 服务在形式上是由一组接口原语(或操作)来描述的 
     - 服务原语可分为`四种类型` 
       - 请求(Request): 一个实体想得到某些事情的服务 
       - 指示(Indication): 另一个实体被通知做这个事情 
       - 响应(Response): 另一个实体完成事情后想响应 
       - 确认(Confirm): 返回一个对早期请求的响应 

### 典型计算机网络的参考模型 

1. `OSI参考模型 `：
   - `物理层(The Physical Layer)`:在物理线路上传输原 始的二进制数据位(基本网络硬件) 
   - `数据链路层(The Data Link Layer)`:在有差错的物 理线路上提供无差错的数据传输(Frame) 
   - `网络层(The Network Layer)`:控制通信子网提供 源点到目的点的数据传送(Packet) 
   - `运输层(The Transport Layer)`:为用户提供端到端 的数据传送服务。 
   - `会话层(The Session Layer)`:为用户提供会话控制服务(安全认证) 
     - token management and synchronization (insert checkpoints into the data stream) 
   - `表示层(The Presentation Layer)`:为用户提供数 据转换和表示服务。 
   - `应用层(The Application Layer) `
2. `TCP/IP 参考模型 `：
   - `物理层`:在物理线路上传输原始的二进制数据位 
   - `数据链路层`:在有差错的物理线路上提供无差错的数据 传输 
     - TCP/IP 参考模型把第1层和第2层合起来称为:`Host-to-Network `
   - `网络层(IP层)`:控制通信子网提供源点到目的点的包传送 
   - `运输层`:提供端到端的数据传送服务。TCP 和 UDP 
   - `应用层`:提供各种 Internet 管理和应用服务功能 

### 网络和网络服务 

1. `X.25 分组交换网 `：

   特点：面向连接，支持交换虚电路和永久虚电路。网络结构和协议， DTE、DCE、 PAD 

## Ch3 数据通信的基本原理

### 数据通信的理论基础

- 信号在通信信道上传输时的数学表 

  示及其所受到的限制 

  - 傅立叶分析：

    任何一个周期为T的有理周期性函数 g(t) 可分解为若
    干项(可能无限多项)正弦和余弦函数之和:

    ​	$\mathrm{g}(\mathrm{t})=\mathrm{c}{\frac{1}{2}}+\quad \sum_{n=1}^{\infty} a n \sin (2 \pi n f t)+\sum_{n=1}^{\infty} b n \cos (2 \pi n f t)$

  - 基本频率：

    ​	$\mathrm{f}=1 / \mathrm{T}$

  - n次谐波项的正弦和余弦振幅值:

    ​	$\mathrm{a}_{\mathrm{n}}, \mathrm{b}_{\mathrm{n}}$

- 已知$\mathrm{g(t)}$,求$\mathrm{c,a_{n},b_{n}}$

  - $\mathrm{c}=\frac{2}{T} \int_{0}^{T} g(t) d t$
  - $\mathrm{a}_{\mathrm{n}}=\frac{2}{T} \int_{0}^{T} g(t) \sin (2 \pi n f t) d t$
  - $\mathrm{b}_{\mathrm{n}}=\frac{2}{T} \int_{0}^{T} g(t) \cos (2 \pi n f t) d t$

- 波特率(baud)和比特率(bit)的关系:

  - 波特率:信号每秒钟变化的次数，也称调制速率。
  - 比特率:每秒钟传送的二进制位数。
  - 波特率与比特率的关系取决于信号值与比特位的关系。

  **Ex**: 每个信号值可表示3位，则比特率是波特率的3倍; 

  ​	  每个信号值可表示1位，则比特率和波特率相同。 对于比特率为Bbps的信道，发送8位所需的时间为 8/B秒， 若8位为一个周期T，则一次谐波的频率是: 

  ​			f1 = B/8 Hz 

  ​	  `能通过信道的最高次谐波数目`为:

  ​			N = fc / f1 

  ​	 音频线路的截止频率为3000Hz

  ​			N = fc / f1 = 3000/(B/8) = 24000/B

  - `最大数据传输率`: $ \mathrm{H} \log _{2}(1+\mathrm{S} / \mathrm{N})(\mathrm{bps})$

### 数据通信技术

- 数据：传递某种含义的实体
- 信号发送:沿着某种介质传播信号的技术
- 数据传输:通过传输和处理信号而进行的数据通信
- 数据表示和传输方式：
  - 数据表示 
    - 数据: 模拟数据 (Analog Data) 连续值 数字数据 (Digital Data) 离散值 
  - 数据传输方式
    -  信号: 模拟信号(AnalogSignals) 
    - 数字信号 (Digital Signals) 信号发送方式: 模拟信号发送(模拟信道) 数字信号发送(数字信道) 

### 数据编码技术

- 研究数据在信号传输过程中如何进行编码

- 数字数据的数字传输

  - 基带:基本频带，指传输变换前所占用的频带，是原始信号所固有的频带 
  - 基带传输: 在传输时直接使用基带信号
    - 基带传输是一种最简单最基本的传输方式，一般用 低电平表示“0”，高电平表示“1”
    - 适用范围:低速和高速的各种情况。 
    - 限制:因基带信号所带的频率成分很宽，所以对传 输线有一定的要求。 

- 常用的几种编码方式
- 不归零制码(NRZ)
    - 原理:用两种不同的电平分别表示二进制信息“0”和 “1”，低电平表示“0”，高电平表示“1”
  - 曼彻斯特码(Manchester) 
    - 也称相位编码 
    - 原理:每一位中间都有一个跳变，从低跳到高表示“0”， 从高跳到低表示“1”
  - 差分曼彻斯特码(Differential Manchester)
    - 原理:每一位中间都有一个跳变，每位开始时有跳变表示“0”，无跳变表示“1”。位中间跳变表示时钟，位前跳变表示数据。
  - 逢“1”变化的NRZ码
    - 原理:在每位开始时，逢“1”电平跳变，逢“0”电平不跳变。
  - 逢“0”变化的NRZ码
    - 原理:在每位开始时，逢“0”电平跳变，逢“1”电平不跳变。
  
-  模拟数据数字传输
- 解决模拟信号数字化问题，也称为脉冲代码调制PCM
  
- `多路复用技术`
- 由于一条传输线路的能力远远超过传输一个用户信号所需的能力，为了提高线路利用率，经常让多个信号同时共用一条物理线路。
  - 常用的方法：
    - 时分复用 TDM(Time Division Multiplexing) 分成 24 个信道 
    - 频分复用 FDM(Frequency Division Multiplexing)
    - 波分复用 WDM(Wavelength Division Multiplexing)
  
- `交换方式`
- 在多结点通信网络中，为有效利用通信设备和线路，一般希望动态地设定通信双方间的线路。动态地接通或断开通信线路，称为“交换”
  
- 分类
  
  - `电路交换`
  - 原理:直接利用可切换的物理通信线路，连接通信双方。
    
  - `报文交换` 存储转发方式
  - 原理:信息以报文(逻辑上完整的信息段)为单位进行存储转发。
    
  - `分组交换`包交换) 存储转发方
  - 原理:信息以分组为单位进行存储转发。源结点把报文分为分组，在中间结点存储转发，目的结点把分组合成报文。 
    - 分组交换分为：
      - 数据报(datagram) ：
        - 每个分组均带有全称网络地址(源、目的)，可走不同的路径。
        - 虚电路(virtual circuit)
          - 三个阶段包括：
            - 建立:发带有全称网络地址的呼叫分组，建立虚电路
            - 传输:沿建立好的虚电路传输数据
            - 拆除:拆除虚电路
      
    -  混合交换
    

## Ch4 物理层接口

### 物理层的定义和功能 

1. `物理层的定义`：

   ISO/OSI 关于物理层的定义: 

   物理层提供机械的、电气的、功能的和规程的特性，目的是启动、维护和关闭数据链路实体之间进行 比特传输的物理连接。这种连接可能通过中继系统， 在中继系统内的传输也是在物理层的。 

2. `物理层的功能 `：

   在两个网络设备之间提供透明的比特流传输。 

### 物理层的特性 

1. `机械特性 `：

   主要定义物理连接的边界点，即接插装置。规定物理连接时所采用的规格、引脚的数量和排列情况。 

   常用的标准接口:

   - ISO 2110 25芯连接器:EIA RS-232-C，EIA RS-366-A 
   - ISO 2593 34芯连接器:V.35宽带MODEM
   - ISO 4902 37芯和9芯连接器:EIA RS-449
   - ISO 4903 15芯连接器:X.20，X.21，X.22 

2. `电气特性 `：

   规定传输二进制位时，线路上信号的电压高低、阻抗匹配、传输速率和距离限制。 早期的标准是在边界点定义电气特性，例如EIA RS-232-C、V.28;最近的标准则说明了发送器和接受器的电气特性，而且给出了有关对连接电缆的控制。 

   CCITT 标准化的电气特性标准:

   - CCITT V.10/X.26:新的非平衡型电气特性，EIA RS-423-A 
   - CCITT V.11/X.27 :新的平衡型电气特性，EIA RS-422-A 
   - CCITT V.28:非平衡型电气特性，EIA RS-232-C
   - CCITT X.21/EIA RS-449 

3. `功能特性 `：

   主要定义各条物理线路的功能。线路的功能分为四大类: 

   - 数据 
   - 控制 
   - 定时
   - 地 

4. `规程特性`：

   主要定义各条物理线路的工作规程和时序关系。 

### 传输介质 

- 磁介质 

- `双绞线`

  - 既可用于模拟传输，也可用于数据传输; 
  - 带宽依赖于线的粗细和传输距离;
  - UTP 3类线，UTP 5类线，UTP 6类线 

- `基带同轴电缆`

  - 50欧姆，用于数据传输; 

- `宽带同轴电缆 `

  - 75欧姆，用于模拟传输，Cable TV技术，300MHz或 450MHz 

- `光纤`

  - 目前，在试验室中光纤带宽超过1000Tbps;160\*2.5Gbps， 8　\*10Gbps的光纤已经实用; 

  - 光纤分类:单模光纤和多模光纤 

    模式(mode):是一个与很多参数有关的量，可以简单地理解为偏振方向，单模光纤可以传输多种波长，但每个波

    长只能有一种模式。

  - 常用的三个波长窗口(光纤波段):Fig. 2-26 

    - 0.85um:衰减(attenuation)大，传输速率和距离受限制， 但价格便宜; 

    - 1.30um:衰减小，无色散(dispersion)补偿、功率放大情况下，最大传40km(最坏情况); 

    - 1.55um:衰减小，无色散补偿、功率放大情况下，最大传80km(最坏情况) 

### 其它网络传输技术 

1. `SONET/SDH `：
   - 采用TDM技术 
   - 同步传输 